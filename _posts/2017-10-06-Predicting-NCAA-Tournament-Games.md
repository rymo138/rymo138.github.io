---
layout: post
title: Predicting NCAA Tournament Games
---
# Predicting NCAA Tournament Games

## For my final Capstone project with General Assembly, I chose to create a model that would predict the results of NCAA Tournament games.  Read on to learn how to beat all your friends and co-workers in next year's pool!

If you're anything like me, you've found that predicting NCAA Tournament games can be a nightmare.  I love basketball, but I mostly follow the NBA.  I tune in every March to scout some of the best prospects and I fill out a bracket with my friends and family members to win annual bragging rights (and a little bit of money!)  Unfortunately, year after year my brilliant predictions fall short.  There has to be a better method for predicting the results of these games!

Fortunately for you, the reader, I have developed a method that looks to be a reasonable estimator of individual tournament games.  I started with a Kaggle data set called "March Machine Learning Mania" and did my own research into some advanced analytics that we not captured by the Kaggle competition.  I found that college basketball analyst Ken Pomeroy had developed a number of advanced team-based statistics that proved to be exceptionally successful at making these predictions.  I was thrilled, yet dismayed.  Across 14 years of data (2002-2016), my model was able to use Pomeroy's Adjusted Tempo and Adjusted Efficiency statistics to predict the final score within one point (on average).  However, although the mean score differential was under a point, these predictions came with a standard deviation of around 11 points.  So, while this method proved to be reasonably effective across a large enough sample of games, there was still room for improvement in making individual predictions.

Now would be a good time to describe Pomeroy's statistics in greater detail and illuminate how they can be used to make these predictions.  Remarkably, to predict the result of an individual game's scoring margin, only four statistics are needed: the Adjusted Efficiency Margin (AdjEM) for each team and the Adjusted Tempo (AdjT).  The procedure for calculating these statistics is incredibly intricate, and truly serves to demonstrate the brilliant work that Pomeroy has been doing over the past decade and a half.  If you are interested in learning more about the process behind these numbers, I recommend perusing kenpom.com for in depth explanations.  For the purposes of this project however, I would like to at least provide some explanation for what each statistic is measuring.

**Adjusted Efficiency Margin**: Pomeroy uses this number when ranking teams.  AdjEM intends to estimate the number of points that a given team would outscore an **average** team, on a **neutral** court, over **100 possessions**. Although the calculation of this statistic is fairly complex, applying the number merely involves simple subtraction.  When you compares two teams against each other, you simply subtract each teams' AdjEM and the result will give an estimate of how many points one team will outscore the other across **100 possessions**.  

**Adjusted Tempo**: This statistic measures the number of possessions a team "wants" to use across an individual basketball game.  I emphasize "wants" because its important to note that, although a team may not always play at its desired tempo, it is possible to estimate what tempo they would ideally like to play at.  To predict the tempo (# of possessions) for a game between two teams, you utilize the following formula: AdjTempoA + AdjTempoB / 200.

**Making Predictions**: For an individual game, you can get a reasonable estimate of the final scoring margin by first subtracting the two teams AdjEM's (as described above) and then multiplying this number by the predicted number of possessions (also as described above).  

##How to improve on Ken Pomeroy's Model?##

Ken Pomeroy's Adjusted Efficiency statistics are used by several major media outlets when describing the best teams in the nation.  The benefits of possession based analysis were first laid out by Dean Oliver, and it has become widely accepted in the world of basketball to analyze the game on a per possession basis.  However, even though Pomeroy's adjusted efficiency statistics are some of the best around, the variability for a single game is very hard to account for.  Sometimes, the ball just does/doesn't go through the hoop.  Consequently, I determined that when it came to making predictions for individual tournament games, the Tempo / # of Possessions was the variable that I would have the most success improving upon.

I was able to get a closer estimate of Tempo by including a coach based variable and making the Tempo of the game my target (instead of the scoring margin).  Simply put: at the college level coaches are the main variable that influences how a game is paced.  Coaches are more consistently present year over year and they directly influence tempo by instructing players while they are on the court.  

Therefore, the final thrust of my project was to train a linear model that would predict deviations from predicted tempo.  The most glaring and immediate discovery was that pace of play is almost always **slower** in tournament games than the model was predicting.  Fortunately, the coaching factor was able to adjust our model for this.  When the updated Tempo was inserted back into the model, our final model was able to explain 53% of the variance in scoring margin (that's the pearson R squared for the statistics wonks out there).  While this model should be considered a work in progress, this was a very satisfying result.

##Next Steps / Additional Data##

Using what I learned from this project, believe there are a number of ways I can build an even better model in time for the 2018 tournament.  I would like to incorporate individual player efficiency statistics, as well as style of play variables to get a better sense of which kinds of teams outperform expectations in March.  Moreover, I have worked to gather geographical data to incorporate travel distance into future analysis (not all "neutral" courts were created equally "neutral").  Finally, I believe injuries could play a big role in improving the model in the future.  Due to Pomeroy's numbers not taking injuries into account at all, a team that lost a key contributor for a period of time during the regular season might be underrated heading into the tournament due to that key player not having enough opportunity to influence his teams Offensive/Defensive Efficiency.  Furthermore, a team that lost a crucial player just before the tournament would likely be overrated by this model at the time being.

I look forward to seeing how this model can continue to be improved and I hope it will lead to greater personal success in my own March Madness predictions.  
